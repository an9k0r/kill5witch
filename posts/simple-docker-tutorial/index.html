<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="days ago"><meta name="hour-prompt" content="hours ago"><meta name="minute-prompt" content="minutes ago"><meta name="justnow-prompt" content="just now"><meta name="generator" content="Jekyll v4.2.1" /><meta property="og:title" content="Simple Docker Tutorial" /><meta name="author" content="eng4ge" /><meta property="og:locale" content="en" /><meta name="description" content="1. Intro" /><meta property="og:description" content="1. Intro" /><link rel="canonical" href="https://an9k0r.github.io/posts/simple-docker-tutorial/" /><meta property="og:url" content="https://an9k0r.github.io/posts/simple-docker-tutorial/" /><meta property="og:site_name" content="CyberSec-Research.Space" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2023-01-15T08:00:00+01:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Simple Docker Tutorial" /><meta name="twitter:site" content="@cybersec_space" /><meta name="twitter:creator" content="@eng4ge" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"author":{"@type":"Person","name":"eng4ge"},"description":"1. Intro","headline":"Simple Docker Tutorial","dateModified":"2023-03-13T07:03:51+01:00","url":"https://an9k0r.github.io/posts/simple-docker-tutorial/","datePublished":"2023-01-15T08:00:00+01:00","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://an9k0r.github.io/posts/simple-docker-tutorial/"},"@context":"https://schema.org"}</script><title>Simple Docker Tutorial | CyberSec-Research.Space</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="CyberSec-Research.Space"><meta name="application-name" content="CyberSec-Research.Space"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end" lang="en"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/images/logo.jpeg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">CyberSec-Research.Space</a></div><div class="site-subtitle font-italic">Information Security Personal Blog</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/blogging/" class="nav-link"> <i class="fa-fw fas fa-book ml-xl-3 mr-xl-3 unloaded"></i> <span>BLOGS AND GUIDES</span> </a><li class="nav-item"> <a href="/hack_the_box/" class="nav-link"> <i class="fa-fw fas fa-bug ml-xl-3 mr-xl-3 unloaded"></i> <span>HACK THE BOX</span> </a><li class="nav-item"> <a href="/blue_team_ctf/" class="nav-link"> <i class="fa-fw fas fa-anchor ml-xl-3 mr-xl-3 unloaded"></i> <span>BLUE TEAM CTFS</span> </a><li class="nav-item"> <a href="/web_application/" class="nav-link"> <i class="fa-fw fas fa-terminal ml-xl-3 mr-xl-3 unloaded"></i> <span>WEB APPLICATION</span> </a><li class="nav-item"> <a href="/binary_exploitation/" class="nav-link"> <i class="fa-fw fas fa-microchip ml-xl-3 mr-xl-3 unloaded"></i> <span>BINARY EXPLOITATION</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/an9k0r" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/cybersec_space" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['',''].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Simple Docker Tutorial</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Simple Docker Tutorial</h1><div class="post-meta text-muted"><div> By <em> <a href="https://github.com/an9k0r">eng4ge</a> </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" date="2023-01-15 08:00:00 +0100" data-toggle="tooltip" data-placement="bottom" title="Sun, Jan 15, 2023, 8:00 AM +0100" >Jan 15</em> </span> <span> Updated <em class="timeago" date="2023-03-13 07:03:51 +0100 " data-toggle="tooltip" data-placement="bottom" title="Mon, Mar 13, 2023, 7:03 AM +0100" >Mar 13</em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1122 words"> <em>6 min</em> read</span></div></div></div><div class="post-content"><h1 id="1-intro">1. Intro</h1><p>The reason for this post is simple. I use docker here and then and tend to forget some commands and then i might not be sure if i’ll want to store the data (read: create a volume with it) or not, hence writing this post.</p><p>It about the basics how to get a docker container running, about containrs and volumes to get me/you started.</p><h1 id="2-docker-basic-terminology">2. Docker Basic Terminology</h1><p>Before diving into Docker commands, it’s important to understand the terminology used in Docker.</p><p>Here are some key terms:</p><ul><li><strong>Image</strong>: A pre-built package that contains all the dependencies and configurations needed to run an application.<li><strong>Container</strong>: An instance of an image that runs in isolation from the host system and other containers.<li><strong>Dockerfile</strong>: A text file that contains instructions to build an image.<li><strong>Registry</strong>: A storage location for Docker images, such as Docker Hub.</ul><h1 id="3-install-docker">3. Install Docker</h1><p>Things might change in the future, so check <a href="https://docs.docker.com/get-docker/">here</a> on how to install docker on your platform.</p><h1 id="4-pull-an-image">4. Pull an image</h1><p>To get started with Docker, you’ll need to pull an image from a registry. For example, to pull the official Ubuntu image, you can use the following command:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>docker pull ubuntu
</pre></table></code></div></div><p>For ARM architecture we’d use one of the following commands (we can use other image apart from <code class="language-plaintext highlighter-rouge">ubuntu</code> or version <code class="language-plaintext highlighter-rouge">20.04</code>).</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>docker pull arm64v8/ubuntu
docker pull arm64v8/ubuntu:20.04
</pre></table></code></div></div><p>We can list images using following command:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>docker image ls
</pre></table></code></div></div><h1 id="5-run-a-container">5. Run a container</h1><p>Once you have an image, you can use it to run a container. For example, to run a container from the Ubuntu image, use the following command (add <code class="language-plaintext highlighter-rouge">--name</code> handle if you want to add a name):</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>docker run -it ubuntu bash
</pre></table></code></div></div><p>This will start a container and open a bash shell inside it. The <code class="language-plaintext highlighter-rouge">-it</code> flag tells Docker to run the container in interactive mode, and the bash command starts a bash shell.</p><blockquote><p>If you want to persist data you might want to add volume but more on that below in “Start a container and mount the volume”</p></blockquote><p>We can check running conainers using following command</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>docker container ls
</pre></table></code></div></div><p>Perhaps you want to see exited containers as well and if so add <code class="language-plaintext highlighter-rouge">-a</code> handle to the command above.</p><p>If we want to exit interactive shell and want to preserve the dockers session we can use <code class="language-plaintext highlighter-rouge">Ctrl+P</code> followed by <code class="language-plaintext highlighter-rouge">Ctrl+Q</code>.</p><p>If we want to <strong>enter</strong> the same container we need to use its name, in my case the container ran as <code class="language-plaintext highlighter-rouge">frosty_noyce</code>…</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>docker exec -it frosty_noyce bash
</pre></table></code></div></div><p>Docker can be <strong>STOPed</strong> using following command</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>docker container stop &lt;id&gt;
</pre></table></code></div></div><p>… or <strong>STARTed</strong></p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>docker container stop &lt;id&gt;
</pre></table></code></div></div><p><strong>Remove</strong> container:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>docker container rm &lt;id&gt;
</pre></table></code></div></div><h2 id="51-modify-a-container">5.1 Modify a container:<a href="#51-modify-a-container" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>In the container itself, you can modify a container by installing packages or editing files inside it.</p><p>For example, to install the nginx package in the container, use the following command:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>apt-get update
apt-get install nginx
</pre></table></code></div></div><h1 id="6-volumes---saving-changes">6. Volumes - Saving Changes</h1><p>There are few possibilities how to persist data from a newly created container.</p><h2 id="61-create-an-image">6.1 Create an Image<a href="#61-create-an-image" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>Once you have made changes to a container, you can create a new image from it using the docker commit command. For example, to create a new image from the modified Ubuntu container, use the following command:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>docker commit &lt;container-id&gt; my-ubuntu-image
</pre></table></code></div></div><p>Replace <code class="language-plaintext highlighter-rouge">&lt;container-id&gt;</code> with the ID of the container you want to create an image from, and my-ubuntu-image with a name for the new image.</p><h2 id="62-create-a-volume-and-save-data-to-it">6.2 Create a Volume and save data to it<a href="#62-create-a-volume-and-save-data-to-it" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>Docker volumes provide a way to store data outside of a container’s filesystem and make it available to multiple containers. This allows you to separate data and application code, and makes it easier to manage and backup your data.</p><p>Here’s an example of how to use Docker volumes:</p><h3 id="621-create-a-volume">6.2.1 Create a volume:<a href="#621-create-a-volume" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>docker volume create mydata
</pre></table></code></div></div><p>This will create a new volume named mydata.</p><h3 id="622-start-a-container-and-mount-the-volume">6.2.2 Start a container and mount the volume<a href="#622-start-a-container-and-mount-the-volume" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>docker run -it -v mydata:/app/data ubuntu bash
</pre></table></code></div></div><p>This will start a container from the ubuntu image, and mount the mydata volume at the /app/data directory inside the container.</p><p>Make some changes inside the container, like creating new files or modifying existing ones, and save them to the mounted volume.</p><h3 id="623-stop-and-remove-the-container">6.2.3 Stop and remove the container:<a href="#623-stop-and-remove-the-container" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>docker stop &lt;container-id&gt;
docker rm &lt;container-id&gt;
</pre></table></code></div></div><p>Replace <container-id> with the ID of the container you want to remove.</container-id></p><h3 id="624-start-a-new-container-and-mount-the-same-volume">6.2.4 Start a new container and mount the same volume:<a href="#624-start-a-new-container-and-mount-the-same-volume" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>docker run -it -v mydata:/app/data ubuntu bash
</pre></table></code></div></div><p>This will start a new container from the ubuntu image, and mount the mydata volume at the /app/data directory inside the container. The changes you made in the previous container should now be available in this new container.</p><p>Note that Docker volumes can also be used to mount data from the host system or from other containers. For more information, see the Docker documentation on volumes: https://docs.docker.com/storage/volumes/</p><h2 id="63-dockerfile">6.3 Dockerfile<a href="#63-dockerfile" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><h3 id="631-create-a-new-directory">6.3.1 Create a new directory<a href="#631-create-a-new-directory" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p>Create a new directory for your project, and create a file named <code class="language-plaintext highlighter-rouge">Dockerfile</code> inside it.</p><h3 id="632-specify-the-base-image">6.3.2 Specify the base image<a href="#632-specify-the-base-image" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p>In the Dockerfile, specify the base image you want to use for your new image</p><p>For example, if you want to use Ubuntu as the base image, you can add the following line to the Dockerfile:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>FROM ubuntu:latest
</pre></table></code></div></div><h3 id="633-add-any-additional-commands">6.3.3 Add any additional commands<a href="#633-add-any-additional-commands" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p>Add any additional commands you want to run in the container to the Dockerfile. For example, if you want to install the nginx web server, you can add the following line to the Dockerfile:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>RUN apt-get update &amp;&amp; apt-get install -y nginx
</pre></table></code></div></div><p>You can also specify environment variables, work directory, or add files to the container by adding ENV, WORKDIR, and COPY commands respectively.</p><h3 id="634-save-the-dockerfile">6.3.4 Save the Dockerfile<a href="#634-save-the-dockerfile" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p>Save the Dockerfile and navigate to the directory in your terminal.</p><h3 id="635-build-the-docker-image-using-the-following-command">6.3.5 Build the Docker image using the following command<a href="#635-build-the-docker-image-using-the-following-command" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p>Build the Docker image</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>docker build -t my-image-name .
</pre></table></code></div></div><p>The <code class="language-plaintext highlighter-rouge">-t</code> option specifies a name for the image, and the <code class="language-plaintext highlighter-rouge">.</code> at the end specifies the location of the Dockerfile.</p><h3 id="636-start-a-new-container">6.3.6 Start a new container<a href="#636-start-a-new-container" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p>After building, you can start a new container from your custom image:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>docker run -it my-image-name bash
</pre></table></code></div></div><p>This will start a new container from the my-image-name image and run the bash command inside it.</p><p>Note: It’s important to keep your Dockerfile as simple and clean as possible, and to use best practices for building images. The Docker documentation provides many useful tips and best practices for Dockerfile creation: https://docs.docker.com/develop/develop-images/dockerfile_best-practices/</p><h1 id="7-outro">7. Outro</h1><p>It’s impossible to cover all scenarios without writing very lenghty article, but hopefully the few commands helped you with your docker endeavours and if not, just <a href="https://www.google.com/">google</a> or try asking <a href="https://openai.com/blog/chatgpt">OpenGPT</a></p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/blogging/'>Blogging</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/docker/" class="post-tag no-text-decoration" >Docker</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Simple Docker Tutorial - CyberSec-Research.Space&url=https://an9k0r.github.io/posts/simple-docker-tutorial/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Simple Docker Tutorial - CyberSec-Research.Space&u=https://an9k0r.github.io/posts/simple-docker-tutorial/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Simple Docker Tutorial - CyberSec-Research.Space&url=https://an9k0r.github.io/posts/simple-docker-tutorial/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/insecure_deserialization/">(Portswigger/WebAcademy) - Insecure Deserialization vulnerabilities</a><li><a href="/posts/ssti/">(Portswigger/WebAcademy) - Server-Side Template Injection vulnerabilities</a><li><a href="/posts/stored_XSS/">(Portswigger/WebAcademy) - Stored Cross-Site Scripting (XSS)</a><li><a href="/posts/Blind_SQL_Injection/">Blind SQL Injection</a><li><a href="/posts/OS_Command_Injection/">OS Command Injection</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/notes/">Notes</a> <a class="post-tag" href="/tags/portswigger/">Portswigger</a> <a class="post-tag" href="/tags/web-application/">Web Application</a> <a class="post-tag" href="/tags/linux/">Linux</a> <a class="post-tag" href="/tags/clear-text-credentials/">Clear Text Credentials</a> <a class="post-tag" href="/tags/password-reuse/">Password Reuse</a> <a class="post-tag" href="/tags/windows/">Windows</a> <a class="post-tag" href="/tags/deserialization/">Deserialization</a> <a class="post-tag" href="/tags/misconfiguration/">Misconfiguration</a> <a class="post-tag" href="/tags/password-cracking/">Password Cracking</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/Anubis/"><div class="card-body"> <em class="timeago small" date="2022-03-14 17:33:00 +0100" >Mar 14, 2022</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Anubis</h3><div class="text-muted small"><p> Anubis is Windows box which introduces SSTI/XSS vulnerability for initial foothold in Docker, followed by Jamovi CVE and Exploiting AD CS Enumeration NMAP NMAP will be ran on all ports: Nmap scan r...</p></div></div></a></div><div class="card"> <a href="/posts/Ready/"><div class="card-body"> <em class="timeago small" date="2022-09-12 11:33:00 +0200" >Sep 12, 2022</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Ready</h3><div class="text-muted small"><p> Ready is an easy box based on linux. It starts with vulnerable Gitlab version and ends with escaping docker container. ENUMERATION NMAP Let’s start nmap scan: luka@kali:~/htb/ready$ nmap -sC -sV ...</p></div></div></a></div><div class="card"> <a href="/posts/CVE_2021_4034/"><div class="card-body"> <em class="timeago small" date="2021-12-25 10:33:00 +0100" >Dec 25, 2021</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Local Privilege Escalation in polkit's pkexec (CVE-2021-4034)</h3><div class="text-muted small"><p> PwnKit (CVE-2021-4034) - Local Privilege Escalation This will be a short one. It’s about local privilege escalation vulnerability (CVE-2021-4034) with public available exploit named PwnKit. Origi...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/oauth/" class="btn btn-outline-primary" prompt="Older"><p>(Portswigger/WebAcademy) - OAuth 2.0 authentication vulnerabilities</p></a> <a href="/posts/clickjacking/" class="btn btn-outline-primary" prompt="Newer"><p>(Portswigger/WebAcademy) - Clickjacking vulnerabilities</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://twitter.com/cybersec_space">eng4ge</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/notes/">Notes</a> <a class="post-tag" href="/tags/portswigger/">Portswigger</a> <a class="post-tag" href="/tags/web-application/">Web Application</a> <a class="post-tag" href="/tags/linux/">Linux</a> <a class="post-tag" href="/tags/clear-text-credentials/">Clear Text Credentials</a> <a class="post-tag" href="/tags/password-reuse/">Password Reuse</a> <a class="post-tag" href="/tags/windows/">Windows</a> <a class="post-tag" href="/tags/deserialization/">Deserialization</a> <a class="post-tag" href="/tags/misconfiguration/">Misconfiguration</a> <a class="post-tag" href="/tags/password-cracking/">Password Cracking</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><script src="https://cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js"></script> <script> $(function() { function updateMermaid(event) { if (event.source === window && event.data && event.data.direction === ModeToggle.ID) { const mode = event.data.message; if (typeof mermaid === "undefined") { return; } let expectedTheme = (mode === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* Re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } let initTheme = "default"; if ($("html[mode=dark]").length > 0 || ($("html[mode]").length == 0 && window.matchMedia("(prefers-color-scheme: dark)").matches ) ) { initTheme = "dark"; } let mermaidConf = { theme: initTheme /* <default|dark|forest|neutral> */ }; /* Markdown converts to HTML */ $("pre").has("code.language-mermaid").each(function() { let svgCode = $(this).children().html(); $(this).addClass("unloaded"); $(this).after(`<div class=\"mermaid\">${svgCode}</div>`); }); mermaid.initialize(mermaidConf); window.addEventListener("message", updateMermaid); }); </script><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script> /* see: <https://docs.mathjax.org/en/latest/options/input/tex.html#tex-options> */ MathJax = { tex: { inlineMath: [ /* start/end delimiter pairs for in-line math */ ['$','$'], ['\\(','\\)'] ], displayMath: [ /* start/end delimiter pairs for display math */ ['$$', '$$'], ['\\[', '\\]'] ] } }; </script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"> </script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script>
